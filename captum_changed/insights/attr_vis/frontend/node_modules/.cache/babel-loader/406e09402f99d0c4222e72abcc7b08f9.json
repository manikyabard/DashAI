{"ast":null,"code":"'use strict';\n\nvar React = require('react');\n\nvar PropTypes = require('prop-types');\n\nvar Tag = require('./Tag');\n\nvar Input = require('./Input');\n\nvar Suggestions = require('./Suggestions');\n\nvar KEYS = {\n  ENTER: 13,\n  TAB: 9,\n  BACKSPACE: 8,\n  UP_ARROW: 38,\n  DOWN_ARROW: 40\n};\nvar CLASS_NAMES = {\n  root: 'react-tags',\n  rootFocused: 'is-focused',\n  selected: 'react-tags__selected',\n  selectedTag: 'react-tags__selected-tag',\n  selectedTagName: 'react-tags__selected-tag-name',\n  search: 'react-tags__search',\n  searchInput: 'react-tags__search-input',\n  suggestions: 'react-tags__suggestions',\n  suggestionActive: 'is-active',\n  suggestionDisabled: 'is-disabled'\n};\n\nvar ReactTags = /*@__PURE__*/function (superclass) {\n  function ReactTags(props) {\n    superclass.call(this, props);\n    this.state = {\n      query: '',\n      focused: false,\n      expandable: false,\n      selectedIndex: -1,\n      classNames: Object.assign({}, CLASS_NAMES, this.props.classNames)\n    };\n    this.inputEventHandlers = {\n      // Provide a no-op function to the input component to avoid warnings\n      // <https://github.com/i-like-robots/react-tags/issues/135>\n      // <https://github.com/facebook/react/issues/13835>\n      onChange: function onChange() {},\n      onBlur: this.handleBlur.bind(this),\n      onFocus: this.handleFocus.bind(this),\n      onInput: this.handleInput.bind(this),\n      onKeyDown: this.handleKeyDown.bind(this)\n    };\n    this.container = React.createRef();\n  }\n\n  if (superclass) ReactTags.__proto__ = superclass;\n  ReactTags.prototype = Object.create(superclass && superclass.prototype);\n  ReactTags.prototype.constructor = ReactTags;\n\n  ReactTags.prototype.componentWillReceiveProps = function componentWillReceiveProps(newProps) {\n    this.setState({\n      classNames: Object.assign({}, CLASS_NAMES, newProps.classNames)\n    });\n  };\n\n  ReactTags.prototype.handleInput = function handleInput(e) {\n    var query = e.target.value;\n\n    if (this.props.handleInputChange) {\n      this.props.handleInputChange(query);\n    }\n\n    this.setState({\n      query: query\n    });\n  };\n\n  ReactTags.prototype.handleKeyDown = function handleKeyDown(e) {\n    var ref = this.state;\n    var query = ref.query;\n    var selectedIndex = ref.selectedIndex;\n    var ref$1 = this.props;\n    var delimiters = ref$1.delimiters;\n    var delimiterChars = ref$1.delimiterChars; // when one of the terminating keys is pressed, add current query to the tags.\n\n    if (delimiters.indexOf(e.keyCode) > -1 || delimiterChars.indexOf(e.key) > -1) {\n      if (query || selectedIndex > -1) {\n        e.preventDefault();\n      }\n\n      this.handleDelimiter();\n    } // when backspace key is pressed and query is blank, delete the last tag\n\n\n    if (e.keyCode === KEYS.BACKSPACE && query.length === 0 && this.props.allowBackspace) {\n      this.deleteTag(this.props.tags.length - 1);\n    }\n\n    if (e.keyCode === KEYS.UP_ARROW) {\n      e.preventDefault(); // if last item, cycle to the bottom\n\n      if (selectedIndex <= 0) {\n        this.setState({\n          selectedIndex: this.suggestions.state.options.length - 1\n        });\n      } else {\n        this.setState({\n          selectedIndex: selectedIndex - 1\n        });\n      }\n    }\n\n    if (e.keyCode === KEYS.DOWN_ARROW) {\n      e.preventDefault();\n      this.setState({\n        selectedIndex: (selectedIndex + 1) % this.suggestions.state.options.length\n      });\n    }\n  };\n\n  ReactTags.prototype.handleDelimiter = function handleDelimiter() {\n    var ref = this.state;\n    var query = ref.query;\n    var selectedIndex = ref.selectedIndex;\n\n    if (query.length >= this.props.minQueryLength) {\n      // Check if the user typed in an existing suggestion.\n      var match = this.suggestions.state.options.findIndex(function (suggestion) {\n        return suggestion.name.search(new RegExp(\"^\" + query + \"$\", 'i')) === 0;\n      });\n      var index = selectedIndex === -1 ? match : selectedIndex;\n\n      if (index > -1 && this.suggestions.state.options[index]) {\n        this.addTag(this.suggestions.state.options[index]);\n      } else if (this.props.allowNew) {\n        this.addTag({\n          name: query\n        });\n      }\n    }\n  };\n\n  ReactTags.prototype.handleClick = function handleClick(e) {\n    if (document.activeElement !== e.target) {\n      this.input.input.focus();\n    }\n  };\n\n  ReactTags.prototype.handleBlur = function handleBlur() {\n    this.setState({\n      focused: false,\n      selectedIndex: -1\n    });\n\n    if (this.props.handleBlur) {\n      this.props.handleBlur();\n    }\n\n    if (this.props.addOnBlur) {\n      this.handleDelimiter();\n    }\n  };\n\n  ReactTags.prototype.handleFocus = function handleFocus() {\n    this.setState({\n      focused: true\n    });\n\n    if (this.props.handleFocus) {\n      this.props.handleFocus();\n    }\n  };\n\n  ReactTags.prototype.handleDeleteTag = function handleDeleteTag(index, event) {\n    // Because we'll destroy the element with cursor focus we need to ensure\n    // it does not get lost and move it to the next interactive element\n    if (this.container.current) {\n      var interactiveEls = this.container.current.querySelectorAll('a,button,input');\n      var currentEl = Array.prototype.findIndex.call(interactiveEls, function (element) {\n        return element === event.currentTarget;\n      });\n      var nextEl = interactiveEls[currentEl - 1] || interactiveEls[currentEl + 1];\n\n      if (nextEl) {\n        nextEl.focus();\n      }\n    }\n\n    this.deleteTag(index);\n  };\n\n  ReactTags.prototype.addTag = function addTag(tag) {\n    if (tag.disabled) {\n      return;\n    }\n\n    if (typeof this.props.handleValidate === 'function' && !this.props.handleValidate(tag)) {\n      return;\n    }\n\n    this.props.handleAddition(tag); // reset the state\n\n    this.setState({\n      query: '',\n      selectedIndex: -1\n    });\n  };\n\n  ReactTags.prototype.deleteTag = function deleteTag(i) {\n    this.props.handleDelete(i);\n\n    if (this.props.clearInputOnDelete && this.state.query !== '') {\n      this.setState({\n        query: ''\n      });\n    }\n  };\n\n  ReactTags.prototype.render = function render() {\n    var this$1 = this;\n    var listboxId = 'ReactTags-listbox';\n    var TagComponent = this.props.tagComponent || Tag;\n    var tags = this.props.tags.map(function (tag, i) {\n      return React.createElement(TagComponent, {\n        key: i,\n        tag: tag,\n        classNames: this$1.state.classNames,\n        onDelete: this$1.handleDeleteTag.bind(this$1, i)\n      });\n    });\n    var expandable = this.state.focused && this.state.query.length >= this.props.minQueryLength;\n    var classNames = [this.state.classNames.root];\n    this.state.focused && classNames.push(this.state.classNames.rootFocused);\n    return React.createElement('div', {\n      ref: this.container,\n      className: classNames.join(' '),\n      onClick: this.handleClick.bind(this)\n    }, React.createElement('div', {\n      className: this.state.classNames.selected,\n      'aria-live': 'polite',\n      'aria-relevant': 'additions removals'\n    }, tags), React.createElement('div', {\n      className: this.state.classNames.search\n    }, React.createElement(Input, Object.assign({}, this.state, {\n      inputAttributes: this.props.inputAttributes,\n      inputEventHandlers: this.inputEventHandlers,\n      ref: function ref(c) {\n        this$1.input = c;\n      },\n      listboxId: listboxId,\n      autofocus: this.props.autofocus,\n      autoresize: this.props.autoresize,\n      expandable: expandable,\n      placeholder: this.props.placeholder,\n      ariaLabel: this.props.ariaLabel\n    })), React.createElement(Suggestions, Object.assign({}, this.state, {\n      ref: function ref(c) {\n        this$1.suggestions = c;\n      },\n      listboxId: listboxId,\n      expandable: expandable,\n      noSuggestionsText: this.props.noSuggestionsText,\n      suggestions: this.props.suggestions,\n      suggestionsFilter: this.props.suggestionsFilter,\n      addTag: this.addTag.bind(this),\n      maxSuggestionsLength: this.props.maxSuggestionsLength\n    }))));\n  };\n\n  return ReactTags;\n}(React.Component);\n\nReactTags.defaultProps = {\n  tags: [],\n  placeholder: 'Add new tag',\n  noSuggestionsText: null,\n  suggestions: [],\n  suggestionsFilter: null,\n  autofocus: true,\n  autoresize: true,\n  delimiters: [KEYS.TAB, KEYS.ENTER],\n  delimiterChars: [],\n  minQueryLength: 2,\n  maxSuggestionsLength: 6,\n  allowNew: false,\n  allowBackspace: true,\n  tagComponent: null,\n  inputAttributes: {},\n  addOnBlur: false,\n  clearInputOnDelete: true\n};\nReactTags.propTypes = {\n  tags: PropTypes.arrayOf(PropTypes.object),\n  placeholder: PropTypes.string,\n  ariaLabel: PropTypes.string,\n  noSuggestionsText: PropTypes.string,\n  suggestions: PropTypes.arrayOf(PropTypes.object),\n  suggestionsFilter: PropTypes.func,\n  autofocus: PropTypes.bool,\n  autoresize: PropTypes.bool,\n  delimiters: PropTypes.arrayOf(PropTypes.number),\n  delimiterChars: PropTypes.arrayOf(PropTypes.string),\n  handleDelete: PropTypes.func.isRequired,\n  handleAddition: PropTypes.func.isRequired,\n  handleInputChange: PropTypes.func,\n  handleFocus: PropTypes.func,\n  handleBlur: PropTypes.func,\n  handleValidate: PropTypes.func,\n  minQueryLength: PropTypes.number,\n  maxSuggestionsLength: PropTypes.number,\n  classNames: PropTypes.object,\n  allowNew: PropTypes.bool,\n  allowBackspace: PropTypes.bool,\n  tagComponent: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  inputAttributes: PropTypes.object,\n  addOnBlur: PropTypes.bool,\n  clearInputOnDelete: PropTypes.bool\n};\nmodule.exports = ReactTags;","map":{"version":3,"sources":["/home/ubuntu/DashAI/captum/insights/attr_vis/frontend/node_modules/react-tag-autocomplete/dist-es5/ReactTags.js"],"names":["React","require","PropTypes","Tag","Input","Suggestions","KEYS","ENTER","TAB","BACKSPACE","UP_ARROW","DOWN_ARROW","CLASS_NAMES","root","rootFocused","selected","selectedTag","selectedTagName","search","searchInput","suggestions","suggestionActive","suggestionDisabled","ReactTags","superclass","props","call","state","query","focused","expandable","selectedIndex","classNames","Object","assign","inputEventHandlers","onChange","onBlur","handleBlur","bind","onFocus","handleFocus","onInput","handleInput","onKeyDown","handleKeyDown","container","createRef","__proto__","prototype","create","constructor","componentWillReceiveProps","newProps","setState","e","target","value","handleInputChange","ref","ref$1","delimiters","delimiterChars","indexOf","keyCode","key","preventDefault","handleDelimiter","length","allowBackspace","deleteTag","tags","options","minQueryLength","match","findIndex","suggestion","name","RegExp","index","addTag","allowNew","handleClick","document","activeElement","input","focus","addOnBlur","handleDeleteTag","event","current","interactiveEls","querySelectorAll","currentEl","Array","element","currentTarget","nextEl","tag","disabled","handleValidate","handleAddition","i","handleDelete","clearInputOnDelete","render","this$1","listboxId","TagComponent","tagComponent","map","createElement","onDelete","push","className","join","onClick","inputAttributes","c","autofocus","autoresize","placeholder","ariaLabel","noSuggestionsText","suggestionsFilter","maxSuggestionsLength","Component","defaultProps","propTypes","arrayOf","object","string","func","bool","number","isRequired","oneOfType","module","exports"],"mappings":"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","sourcesContent":["'use strict'\n\nvar React = require('react')\nvar PropTypes = require('prop-types')\nvar Tag = require('./Tag')\nvar Input = require('./Input')\nvar Suggestions = require('./Suggestions')\n\nvar KEYS = {\n  ENTER: 13,\n  TAB: 9,\n  BACKSPACE: 8,\n  UP_ARROW: 38,\n  DOWN_ARROW: 40\n}\n\nvar CLASS_NAMES = {\n  root: 'react-tags',\n  rootFocused: 'is-focused',\n  selected: 'react-tags__selected',\n  selectedTag: 'react-tags__selected-tag',\n  selectedTagName: 'react-tags__selected-tag-name',\n  search: 'react-tags__search',\n  searchInput: 'react-tags__search-input',\n  suggestions: 'react-tags__suggestions',\n  suggestionActive: 'is-active',\n  suggestionDisabled: 'is-disabled'\n}\n\nvar ReactTags = /*@__PURE__*/(function (superclass) {\n  function ReactTags (props) {\n    superclass.call(this, props)\n\n    this.state = {\n      query: '',\n      focused: false,\n      expandable: false,\n      selectedIndex: -1,\n      classNames: Object.assign({}, CLASS_NAMES, this.props.classNames)\n    }\n\n    this.inputEventHandlers = {\n      // Provide a no-op function to the input component to avoid warnings\n      // <https://github.com/i-like-robots/react-tags/issues/135>\n      // <https://github.com/facebook/react/issues/13835>\n      onChange: function () { },\n      onBlur: this.handleBlur.bind(this),\n      onFocus: this.handleFocus.bind(this),\n      onInput: this.handleInput.bind(this),\n      onKeyDown: this.handleKeyDown.bind(this)\n    }\n\n    this.container = React.createRef()\n  }\n\n  if ( superclass ) ReactTags.__proto__ = superclass;\n  ReactTags.prototype = Object.create( superclass && superclass.prototype );\n  ReactTags.prototype.constructor = ReactTags;\n\n  ReactTags.prototype.componentWillReceiveProps = function componentWillReceiveProps (newProps) {\n    this.setState({\n      classNames: Object.assign({}, CLASS_NAMES, newProps.classNames)\n    })\n  };\n\n  ReactTags.prototype.handleInput = function handleInput (e) {\n    var query = e.target.value\n\n    if (this.props.handleInputChange) {\n      this.props.handleInputChange(query)\n    }\n\n    this.setState({ query: query })\n  };\n\n  ReactTags.prototype.handleKeyDown = function handleKeyDown (e) {\n    var ref = this.state;\n    var query = ref.query;\n    var selectedIndex = ref.selectedIndex;\n    var ref$1 = this.props;\n    var delimiters = ref$1.delimiters;\n    var delimiterChars = ref$1.delimiterChars;\n\n    // when one of the terminating keys is pressed, add current query to the tags.\n    if (delimiters.indexOf(e.keyCode) > -1 || delimiterChars.indexOf(e.key) > -1) {\n      if (query || selectedIndex > -1) {\n        e.preventDefault()\n      }\n\n      this.handleDelimiter()\n    }\n\n    // when backspace key is pressed and query is blank, delete the last tag\n    if (e.keyCode === KEYS.BACKSPACE && query.length === 0 && this.props.allowBackspace) {\n      this.deleteTag(this.props.tags.length - 1)\n    }\n\n    if (e.keyCode === KEYS.UP_ARROW) {\n      e.preventDefault()\n\n      // if last item, cycle to the bottom\n      if (selectedIndex <= 0) {\n        this.setState({ selectedIndex: this.suggestions.state.options.length - 1 })\n      } else {\n        this.setState({ selectedIndex: selectedIndex - 1 })\n      }\n    }\n\n    if (e.keyCode === KEYS.DOWN_ARROW) {\n      e.preventDefault()\n\n      this.setState({ selectedIndex: (selectedIndex + 1) % this.suggestions.state.options.length })\n    }\n  };\n\n  ReactTags.prototype.handleDelimiter = function handleDelimiter () {\n    var ref = this.state;\n    var query = ref.query;\n    var selectedIndex = ref.selectedIndex;\n\n    if (query.length >= this.props.minQueryLength) {\n      // Check if the user typed in an existing suggestion.\n      var match = this.suggestions.state.options.findIndex(function (suggestion) {\n        return suggestion.name.search(new RegExp((\"^\" + query + \"$\"), 'i')) === 0\n      })\n\n      var index = selectedIndex === -1 ? match : selectedIndex\n\n      if (index > -1 && this.suggestions.state.options[index]) {\n        this.addTag(this.suggestions.state.options[index])\n      } else if (this.props.allowNew) {\n        this.addTag({ name: query })\n      }\n    }\n  };\n\n  ReactTags.prototype.handleClick = function handleClick (e) {\n    if (document.activeElement !== e.target) {\n      this.input.input.focus()\n    }\n  };\n\n  ReactTags.prototype.handleBlur = function handleBlur () {\n    this.setState({ focused: false, selectedIndex: -1 })\n\n    if (this.props.handleBlur) {\n      this.props.handleBlur()\n    }\n\n    if (this.props.addOnBlur) {\n      this.handleDelimiter()\n    }\n  };\n\n  ReactTags.prototype.handleFocus = function handleFocus () {\n    this.setState({ focused: true })\n\n    if (this.props.handleFocus) {\n      this.props.handleFocus()\n    }\n  };\n\n  ReactTags.prototype.handleDeleteTag = function handleDeleteTag (index, event) {\n    // Because we'll destroy the element with cursor focus we need to ensure\n    // it does not get lost and move it to the next interactive element\n    if (this.container.current) {\n      var interactiveEls = this.container.current.querySelectorAll('a,button,input')\n\n      var currentEl = Array.prototype.findIndex.call(interactiveEls, function (element) {\n        return element === event.currentTarget\n      })\n\n      var nextEl = interactiveEls[currentEl - 1] || interactiveEls[currentEl + 1]\n\n      if (nextEl) {\n        nextEl.focus()\n      }\n    }\n\n    this.deleteTag(index)\n  };\n\n  ReactTags.prototype.addTag = function addTag (tag) {\n    if (tag.disabled) {\n      return\n    }\n\n    if (typeof this.props.handleValidate === 'function' && !this.props.handleValidate(tag)) {\n      return\n    }\n\n    this.props.handleAddition(tag)\n\n    // reset the state\n    this.setState({\n      query: '',\n      selectedIndex: -1\n    })\n  };\n\n  ReactTags.prototype.deleteTag = function deleteTag (i) {\n    this.props.handleDelete(i)\n\n    if (this.props.clearInputOnDelete && this.state.query !== '') {\n      this.setState({ query: '' })\n    }\n  };\n\n  ReactTags.prototype.render = function render () {\n    var this$1 = this;\n\n    var listboxId = 'ReactTags-listbox'\n\n    var TagComponent = this.props.tagComponent || Tag\n\n    var tags = this.props.tags.map(function (tag, i) { return (\n      React.createElement( TagComponent, {\n        key: i, tag: tag, classNames: this$1.state.classNames, onDelete: this$1.handleDeleteTag.bind(this$1, i) })\n    ); })\n\n    var expandable = this.state.focused && this.state.query.length >= this.props.minQueryLength\n    var classNames = [this.state.classNames.root]\n\n    this.state.focused && classNames.push(this.state.classNames.rootFocused)\n\n    return (\n      React.createElement( 'div', { ref: this.container, className: classNames.join(' '), onClick: this.handleClick.bind(this) },\n        React.createElement( 'div', { className: this.state.classNames.selected, 'aria-live': 'polite', 'aria-relevant': 'additions removals' },\n          tags\n        ),\n        React.createElement( 'div', { className: this.state.classNames.search },\n          React.createElement( Input, Object.assign({},\n            this.state, { inputAttributes: this.props.inputAttributes, inputEventHandlers: this.inputEventHandlers, ref: function (c) { this$1.input = c }, listboxId: listboxId, autofocus: this.props.autofocus, autoresize: this.props.autoresize, expandable: expandable, placeholder: this.props.placeholder, ariaLabel: this.props.ariaLabel })),\n          React.createElement( Suggestions, Object.assign({},\n            this.state, { ref: function (c) { this$1.suggestions = c }, listboxId: listboxId, expandable: expandable, noSuggestionsText: this.props.noSuggestionsText, suggestions: this.props.suggestions, suggestionsFilter: this.props.suggestionsFilter, addTag: this.addTag.bind(this), maxSuggestionsLength: this.props.maxSuggestionsLength }))\n        )\n      )\n    )\n  };\n\n  return ReactTags;\n}(React.Component));\n\nReactTags.defaultProps = {\n  tags: [],\n  placeholder: 'Add new tag',\n  noSuggestionsText: null,\n  suggestions: [],\n  suggestionsFilter: null,\n  autofocus: true,\n  autoresize: true,\n  delimiters: [KEYS.TAB, KEYS.ENTER],\n  delimiterChars: [],\n  minQueryLength: 2,\n  maxSuggestionsLength: 6,\n  allowNew: false,\n  allowBackspace: true,\n  tagComponent: null,\n  inputAttributes: {},\n  addOnBlur: false,\n  clearInputOnDelete: true\n}\n\nReactTags.propTypes = {\n  tags: PropTypes.arrayOf(PropTypes.object),\n  placeholder: PropTypes.string,\n  ariaLabel: PropTypes.string,\n  noSuggestionsText: PropTypes.string,\n  suggestions: PropTypes.arrayOf(PropTypes.object),\n  suggestionsFilter: PropTypes.func,\n  autofocus: PropTypes.bool,\n  autoresize: PropTypes.bool,\n  delimiters: PropTypes.arrayOf(PropTypes.number),\n  delimiterChars: PropTypes.arrayOf(PropTypes.string),\n  handleDelete: PropTypes.func.isRequired,\n  handleAddition: PropTypes.func.isRequired,\n  handleInputChange: PropTypes.func,\n  handleFocus: PropTypes.func,\n  handleBlur: PropTypes.func,\n  handleValidate: PropTypes.func,\n  minQueryLength: PropTypes.number,\n  maxSuggestionsLength: PropTypes.number,\n  classNames: PropTypes.object,\n  allowNew: PropTypes.bool,\n  allowBackspace: PropTypes.bool,\n  tagComponent: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.element\n  ]),\n  inputAttributes: PropTypes.object,\n  addOnBlur: PropTypes.bool,\n  clearInputOnDelete: PropTypes.bool\n}\n\nmodule.exports = ReactTags\n"]},"metadata":{},"sourceType":"script"}